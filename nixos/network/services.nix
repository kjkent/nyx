{
  config,
  hostName,
  lib,
  nixosUser,
  options,
  ...
}: {
  imports = [./firewall];
  config = {
    networking = {
      inherit hostName;
      networkmanager.enable = false;
      timeServers = options.networking.timeServers.default ++ ["pool.ntp.org"];
    };

    programs = {
      nm-applet.enable = lib.mkIf config.networking.networkmanager.enable true;
    };

    services = {
      avahi = {
        enable = true;
        nssmdns4 = true;
        openFirewall = true;
      };
      openssh = {
        enable = true;
        authorizedKeysInHomedir = false;
        banner = ''
          ğŸ­šÎ„Ë™           Î„         Â¯   â ˆ   `              ğŸ­¥ğŸ¬¨
           Î„                                              â–•
                                                          â–
                          â–â–â–‚â–‚â–‚ğŸ¬­ğŸ¬­ğŸ¬­â–‚â–            â „ .       ğŸ­¢
                     â–‚â–„ğŸ¬¹â–†â–‡â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆğŸ­ŒğŸ¬¹ğŸ¬½                  â•¶
                 ğŸ­‡ğŸ­†â–‡â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆğŸ­ŒğŸ¬¹ğŸ¬¼               â ˆ
                ğŸ­ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆğŸ­ğŸ­’ğŸ­ğŸ¬ğŸ­œğŸ­”ğŸ­‘              â–•
               ğŸ­‰â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆğŸ¬ºğŸ­ŒğŸ¬¿ ğŸ­ˆğŸ¬¾ğŸ­¢ğŸ­•ğŸ­ğŸ¬¼            â–•
               ğŸ­‹â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆğŸ­ğŸ¬â–€ğŸ¬†â–—ğŸ¬¹â–„ğŸ¬¯â–‚ğŸ­ˆğŸ¬‘ğŸ¬¬ğŸ¬¾
               â–•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆğŸ­ŸğŸ­¯ğŸ­ŠğŸ­ğŸ­·ğŸ­¢ğŸ­•â–ˆğŸ¬‚ğŸ¬‚â–”  Î„           â–—
          Î„     ğŸ­•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆğŸ¬„ğŸ­Šâ–ˆâ–ˆğŸ­™ â–”   ğŸ­…â–ˆâ–ˆâ–†â–†ğŸ¬ğŸ­¢ğŸ¬¿
                 ğŸ­”â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆğŸ¬ºğŸ¬¹ğŸ¬¹ğŸ­â–ˆâ–ˆğŸ­‘â–  ğŸ­ˆâ–Ÿâ–ˆâ–ˆğŸ­ Î„ğŸ­¢Â¯Ë›â–‰
                 ğŸ­¤â–ˆâ–ˆâ–ˆâ–ˆğŸ¬•ğŸ¬â–ˆâ–ˆâ–ˆâ–ˆğŸ¬¬â–ˆâ–ˆğŸ­’â–€â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆğŸ­˜ ğŸ¬‡ğŸ®  ğŸ­–ğŸ­™
                  â ˆğŸ­£ğŸ­•â–ˆğŸ­â–„â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆğŸ­ğŸ¬ğŸ¬¬â–†â–†â–†â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆğŸ­ ğŸ­®â–Œ`
                     ğŸ­§ğŸ­“ğŸ­ ğŸ­˜ğŸ­¨â–ˆâ–ˆâ–ˆâ–ˆğŸ­ğŸ¬¼ğŸ­‹â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆğŸ®›ğŸ­ ğŸ­¥
                      ğŸ­‡ğŸ­‚â–‡â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆğŸ­ŒğŸ­â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆğŸ¬²â–       ãƒ»
                      ğŸ­¢ğŸ¬‚ğŸ¬¡ğŸ­†â–ˆâ–Ÿâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆğŸ­œğŸ¬·ğŸ¬†ğŸ­“ğŸ¬´ğŸ¬¼_  ,  Î„
                        ğŸ¬ğŸ¬‚ğŸ¬¸â–ˆâ–ˆğŸ¬´â–ğŸ®€ğŸ­§ğŸ¬ğŸ­’â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–™ğŸ­ğŸ­œ  â ˆğŸ­£ğŸ¬€ğŸ­®â–
               .          ğŸ¬¬â–ˆâ–ˆâ–ˆğŸ¬â–€ğŸ­·â ‚ ğŸ®€â–œğŸ­“ğŸ­“ğŸ­ğŸ­œÎ„
               â          â–‚ğŸ­Šâ–ˆâ–ˆâ–ˆâ–ˆâ–™ğŸ¬°ğŸ­§ğŸ­“ğŸ­‚â–ˆğŸ¬â–˜  ğŸ­Šâ–„ğŸ¬¹ğŸ¬¹ğŸ¬¹ğŸ¬¹â––
                     ğŸ­‡ğŸ¬­â–Ÿâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–œâ–ˆâ–‡â–‡â–†ğŸ­ğŸ­ğŸ¬€  ğŸ­‡ğŸ­¨â–ˆâ–ˆâ–ˆğŸ¬â–˜ğŸ­¤ğŸ¬±ğŸ¬¼_
                   ğŸ­ˆâ–‚ğŸ¬·ğŸ¬ğŸ¬ğŸ­’â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆğŸ­“ğŸ­™ğŸ­‹â–ˆâ–ˆâ–ˆğŸ­â–‡â–ˆâ–›ğŸ¬¬â–ˆğŸ­â–  ğŸ­£Î„ ğŸ­§ğŸ¬ƒ
                 ğŸ­ŠğŸ­â–ˆâ–ˆâ–ˆâ–‹ ğŸ­…â–ˆğŸ­¡ğŸ­£ğŸ­§ğŸ­“ğŸ¬„  ğŸ¬¯ğŸ¬¸â–ˆâ–ˆğŸ¬ğŸ¬¬ğŸ­—ğŸ­„â–Î„  ğŸ­®ğŸ­ğŸ­‘ ğŸ­¢â ‚  Î„
              Ë›ğŸ­ŠğŸ­‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆğŸ­ŒğŸ¬­ğŸ­ƒâ–ˆğŸ­ŒğŸ­‘ğŸ¬²ğŸ¬­â–„ğŸ¬¹â–‡â–ˆğŸ­ğŸ­“â–_ğŸ­§ğŸ­’ğŸ¬®ğŸ­‚â–  Î„ğŸ­’â–ˆğŸ¬¾â–†ğŸ¬¿â •
          ğŸ­‚â–†â–‡â–‡â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆğŸ¬â–€â–€ğŸ¬¬â–ˆâ–ˆğŸ¬´ğŸ¬°â–ˆâ–ˆâ–ˆğŸ­â–ˆâ–ˆâ–ˆâ–ˆğŸ¬ğŸ­œğŸ¬€   ğŸ­¢ğŸ­’ğŸ­ ğŸ­¨â–Œ
          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆğŸ­ªğŸ¬ğŸ­ŠğŸ­¾ğŸ¬ºğŸ­‚â–›ğŸ­“ğŸ¬ºâ–”ğŸ­“ğŸ­â–€â–”ğŸ­§ğŸ¬ğŸ¬ğŸ­“ğŸ­“â–ˆâ–ˆğŸ¬´ğŸ¬½â–    `ğŸ­¥â–„ğŸ­ŸÎ„ ğŸ¬
          ğŸ­’â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆğŸ­œâ–ˆâ–ˆğŸ­ ğŸ¬Šâ–ˆğŸ­â”»â•´ ğŸ­â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‡â–‡ğŸ­ğŸ­“ğŸ­“ğŸ¬°â–€ğŸ¬â”ğŸ¬ƒ   â ˆ  ğŸ­‹ğŸ­â•»
          ğŸ­¢ğŸ­’â–ˆâ–ˆâ–ˆâ–ˆğŸ­ğŸ­˜ğŸ¬ŸğŸ­†ğŸ­‚ğŸ­ğŸ­š ğŸ¬¦ğŸ¬´ğŸ¬®Î‡ğŸ¬¼ğŸ­·â–€ğŸ¬ğŸ¬ğŸ¬ğŸ­“ğŸ­“â–ˆâ–ˆğŸ¬­ğŸ¬­ğŸ¬­â–‚â–‚ğŸ®—ğŸ¬©ğŸ­‚â–‡â–†ğŸ¬“â    â–ğŸ­–ğŸ¬“  â–•
          ğŸ­ŠğŸ­â–ˆâ–ˆğŸ­ŸğŸ¬©â–‡ğŸ­â”â ğŸ­ºÎ‡  ğŸ­®â–ˆâ–ˆğŸ¬Î„ğŸ¬ ğŸ¬¸â–‡ğŸ®—ğŸ®—â–‚ğŸ¬µğŸ¬“ğŸ­¤ğŸ­“ğŸ­“ğŸ¬°ğŸ¬’ğŸ¬‚â–€ğŸ¬â–ˆâ–ˆğŸ¬´ğŸ¬    â–€ğŸ­œğŸ­—  ğŸ¬­    
        '';
        knownHosts = {
          gitHub = {
            hostNames = ["github.com"];
            publicKey = "ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBEmKSENjQEezOmxkZMy7opKgwFB9nkt5YRrYMjNuG5N87uRgg6CLrbo5wAdT/y6v0mKV0U2w0WZ2YB/++Tpockg="; 
          };
        };
        settings = {
          AllowUsers = [ nixosUser.username "root" ];
          X11Forwarding = true;
        };
      };
      openvpn = {
        servers = {
          protonvpn = {
            autoStart = false;
            config = "config ${config.sops.templates."protonvpn_CH_ovpn".path}";
          };
        };
      };
      resolved = {
        enable = true;
        dnssec = "false"; # Sept 2023: SD devs state implementation is not robust enough.
        dnsovertls = "false"; # +++ Disable prior to LAN DOT/DNSSEC implementation.
        fallbackDns = [
          "1.1.1.1"
          "1.2.2.1"
          "9.9.9.9"
        ];
      };
    };

    users.users.${nixosUser.username}.extraGroups = [
      "dialout"
      "networkmanager"
    ];
  };
}
